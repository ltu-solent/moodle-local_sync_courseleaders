define("local_sync_courseleaders/mapping_actions_bulk",["exports","core/prefetch","core/normalise","core/notification","core/ajax","core/url"],(function(_exports,_prefetch,_normalise,_notification,_ajax,_url){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/**
   * TODO describe module mapping_actions_bulk
   *
   * @module     local_sync_courseleaders/mapping_actions_bulk
   * @copyright  2025 Southampton Solent University {@link https://www.solent.ac.uk}
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_notification=_interopRequireDefault(_notification),_ajax=_interopRequireDefault(_ajax),_url=_interopRequireDefault(_url);const selectors_activeRows="input.mappingcheckbox:checked",selectors_bulkActions="#courseleadersmappingsbulkactions",selectors_table="#coursemodulemappings_table";_exports.init=()=>{(0,_prefetch.prefetchStrings)("local_sync_courseleaders",["disable","enable"]),(0,_prefetch.prefetchStrings)("core",["delete"]),registerEventListeners()};const registerEventListeners=()=>{var _document$querySelect;null===(_document$querySelect=document.querySelector(selectors_bulkActions))||void 0===_document$querySelect||_document$querySelect.addEventListener("change",(e=>{const action=e.target;-1!==action.value.indexOf("#")&&(e.preventDefault(),"#disableselect"==action.value&&disableMappings(),"#enableselect"==action.value&&enableMappings())}))},enableMappings=()=>{const table=document.querySelector(selectors_table);return updateMappings((0,_normalise.getList)(table.querySelectorAll(selectors_activeRows)).map((item=>item.value)),1)},disableMappings=()=>{const table=document.querySelector(selectors_table);return updateMappings((0,_normalise.getList)(table.querySelectorAll(selectors_activeRows)).map((item=>item.value)),0)};async function updateMappings(ids,enabled){const request={methodname:"local_sync_courseleaders_update_mappings",args:{mappingids:ids,enabled:enabled}};try{await _ajax.default.call([request])[0],window.location.href=_url.default.relativeUrl("local/sync_courseleaders/index.php",{},!1)}catch(error){_notification.default.exception(error)}}}));

//# sourceMappingURL=mapping_actions_bulk.min.js.map